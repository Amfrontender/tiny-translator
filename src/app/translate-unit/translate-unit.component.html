<md-card *ngIf="!translationUnit">
  <md-card-header>
    <md-card-title i18n>No Translation Unit</md-card-title>
  </md-card-header>
  <md-card-content>
    <p i18n>no content</p>
  </md-card-content>
</md-card>
<md-card *ngIf="translationUnit">
  <md-card-header>
    <md-card-title i18n>Translation Unit {{transUnitID()}}</md-card-title>
    <md-card-subtitle>
      <span i18n>State {{targetState()}}</span>
      <md-icon *ngIf="targetState() === 'final'">done</md-icon>
      <md-icon *ngIf="targetState() === 'translated'">label_outline</md-icon>
      <md-icon *ngIf="targetState() === 'new'">translate</md-icon>
    </md-card-subtitle>
  </md-card-header>
  <md-card-content>
    <p>
      <span i18n>Source:<button md-icon-button *ngIf="sourceRef()" (click)="showSourceRefInfo()" mdTooltip="{{sourceRef()}}"><md-icon>info</md-icon></button></span>
      <app-language [code]="sourceLanguage()"></app-language>
      <app-normalized-message-input [readonly]="true" [normalized]="showNormalized" [message]="sourceContentNormalized()"></app-normalized-message-input>
    </p>
    <p *ngIf="sourceDescription()"><b i18n>Description</b> {{sourceDescription()}}</p>
    <p *ngIf="sourceMeaning()"><b i18n>Meaning</b> {{sourceMeaning()}}</p>
    <form id="translation" fxLayout="column" [formGroup]="form">
      <p fxLayout="row"><span i18n>Your translation to</span>&nbsp;<app-language [code]="targetLanguage()"></app-language></p>
      <app-normalized-message-input fxFlexFill [readonly]="false" [normalized]="showNormalized" [message]="targetContentNormalized()" formControlName="_editedTargetMessage"></app-normalized-message-input>
      <p *ngFor="let w of warnings()" class="warning"><md-icon>warning</md-icon>&nbsp;{{w}}</p>
      <p *ngFor="let e of errors()" class="error"><md-icon>error</md-icon>&nbsp;{{e}}</p>
      <div fxLayout="row">
        <button *ngIf="!translationUnit.isTranslated()"
                fxFlexAlign="start"
                md-button color="primary"
                (click)="markTranslated()"
                i18n
                mdTooltip="press to accept the given translation" i18n-mdTooltip>
          mark as translated
        </button>
        <button md-button color="accent" (click)="toggleNormalized()">
          <ng-container *ngIf="showNormalized" i18n>show original markup</ng-container>
          <ng-container *ngIf="!showNormalized" i18n>show normalize</ng-container>
        </button>
      </div>
    </form>
  </md-card-content>
  <md-card-actions>
    <button md-button i18n (click)="prev()"
            [disabled]="!hasPrev()"
            mdTooltip="accept translation and go to provious unit" i18n-mdTooltip>
      Previous
    </button>
    <button md-button i18n (click)="next()"
            [disabled]="!hasNext()"
            mdTooltip="accept translation and go to next unit" i18n-mdTooltip>
      Next
    </button>
  </md-card-actions>
</md-card>
